/* 1. ESTILOS DEL :HOST (El componente en sí) */
:host {
  .sidenav-header {
    padding: 24px 16px;
    text-align: center;
    box-sizing: border-box;
  }

  .company-logo {
    max-width: 180px;
    height: auto;    
    background-color: #ffffff; 
    border: 3px solid #C83832;
    border-radius: 10px;       
    box-sizing: border-box;
    padding: 10px; 
  }
}

/* 2. ESTILOS DE LAYOUT PARA COMPONENTES HIJOS (::ng-deep) */

/* --- Botón desplegable y flecha --- */
:host ::ng-deep .menu-group > a.mat-list-item {
  display: flex !important;
  align-items: center !important;
  width: 100%;
}
:host ::ng-deep .menu-group > a.mat-list-item [matListItemTitle] {
  flex: 1 1 auto; 
}
:host ::ng-deep .expansion-indicator {
  margin-left: auto; 
  flex-shrink: 0;   
  transition: transform 0.3s ease-in-out;
}
:host ::ng-deep .menu-group.expanded .expansion-indicator {
  transform: rotate(180deg);
}
/* ----------------------------------------------- */


/* 3. ESTILOS DE COLOR UNIFICADOS (::ng-deep) */

/* --- A. ESTADO POR DEFECTO (Inactivo) --- */
/* ¡LA CORRECCIÓN MÁS FUERTE! */
/* Apuntamos directamente a las clases internas de Material */

:host ::ng-deep a.mat-list-item:not(.active) .mdc-list-item__primary-text, /* El texto del span */
:host ::ng-deep a.mat-list-item:not(.active) .mdc-list-item__start /* El ícono */ {
  color: #ffffff !important; /* Blanco brillante */
}

/* Regla de respaldo para la flecha (que también es un mat-icon) */
:host ::ng-deep a.mat-list-item:not(.active) .expansion-indicator {
  color: #ffffff !important;
}


/* --- B. ESTADO ACTIVO (Rojo) --- */
:host ::ng-deep a.mat-list-item.active {
  background-color: rgba(200, 56, 50, 0.2) !important;
  
  /* Apuntamos a las clases internas */
  .mdc-list-item__primary-text,
  .mdc-list-item__start {
    color: #C83832 !important; /* Rojo */
  }
}

/* --- C. ESTADO HOVER (Cuando no está activo) --- */
:host ::ng-deep a.mat-list-item:not(.active):hover {
  background-color: rgba(255, 255, 255, 0.08) !important;
  
  /* El color de texto y el ícono se mantienen blancos */
  .mdc-list-item__primary-text,
  .mdc-list-item__start {
    color: #ffffff !important;
  }
}


/* 4. ESTILOS DE SUBMENÚ (Layout) */

/* Oculta/muestra el submenú */
:host ::ng-deep .submenu {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}
:host ::ng-deep .menu-group.expanded .submenu {
  max-height: 500px; 
  padding-left: 50px !important; 
}

/* Centra los sub-botones */
:host ::ng-deep .submenu a.mat-list-item {
  padding-left: 0 !important; 
  justify-content: center !important;
}

/* Espacio del ícono en sub-botón */
:host ::ng-deep .submenu a.mat-list-item .mat-icon {
  margin-right: 16px; 
}

/* El estado activo y hover del submenú ya están cubiertos */